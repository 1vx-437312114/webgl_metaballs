<!DOCTYPE html><html lang=en><title>pocket.gl</title><meta charset=utf-8><script src=../js/pocket.gl.min.js></script><style media=screen>body{margin:10px;background-color:#000;color:#fff}a:link{color:gray}</style><h2>Modified <a href=https://www.shadertoy.com/view/lsSGzy target=_blank>"Flaring Shader"</a> - original version by <a href=https://www.shadertoy.com/user/nimitz target=_blank>Nimitz</a></h2><div id=container style=position:relative;width:800px></div><script>new PocketGL("container",{tabColor:"#a00",editorTheme:"dark",backgroundColor:"#555",fragmentShader:["// Modified Flaring Shader (Original by Nimitz)","// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.","","precision mediump float;","","#define brightness 1.5","#define ray_brightness 10.0","#define gamma 8.0","#define spot_brightness 15.0","#define ray_density 3.5","#define curvature 15.0","#define red   4.0","#define green 1.0","#define blue  0.1","#define noisetype 1","#define sin_freq 13.0","","","uniform vec2 resolution;","uniform vec4 mouse;","uniform float time;","","","float hash( float n )","{","\treturn fract(sin(n) * 43758.5453);","}","","","float noise( in vec2 x )","{","\tx *= 1.75;","\tvec2 p = floor(x);","\tvec2 f = fract(x);","","\tf = f * f * (3.0 - 2.0 * f);","","\tfloat n = p.x + p.y * 57.0;","","\tfloat res = mix(mix( hash(n +  0.0), hash(n +  1.0), f.x),","\t\t\t\t\tmix( hash(n + 57.0), hash(n + 58.0), f.x), f.y);","\treturn res;","}","","","mat2 m2 = mat2( 0.80,  0.60, -0.60,  0.80 );","","float fbm(in vec2 p)","{","\tfloat z = 2.0;","\tfloat rz = 0.0;","","\tp *= 0.25;","","\tfor (float i= 1.0;i < 6.0;i++)","\t{","\t\trz+= abs((noise(p)  -0.5) * 2.0) / z;","","\t\tz = z * 2.0;","\t\tp = p * 2.0 * m2;","\t}","","\treturn rz;","}","","","void main()","{","\tfloat t = -time * 0.1;","\tvec2 uv = gl_FragCoord.xy / resolution.xy - 0.5;","\tuv.x *= resolution.x / resolution.y;","\tuv*= curvature * 0.05 + 0.0001;","","\tfloat r  = sqrt(dot(uv, uv));","\tfloat x = dot(normalize(uv), vec2(0.5, 0.0)) + t;","\tfloat y = dot(normalize(uv), vec2(0.0, 0.5)) + t;","","\tfloat val;","\tval = fbm(vec2(r + y * ray_density, r + x * ray_density - y));","\tval = smoothstep(gamma * 0.02 - 0.1, ray_brightness + (gamma * 0.02 - 0.1) + 0.001, val);","\tval = sqrt(val);","","\tvec3 col = val / vec3(red, green, blue);","\tcol = clamp(1.0 - col, 0.0, 1.0);","\tcol = mix(col, vec3(1.0), spot_brightness - r / 0.1 / curvature * 200.0 / brightness);","","\tgl_FragColor = vec4(col, 1.0);","}"].join("\n"),animated:!0})</script><br><div class=license><a rel=license href=http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png></a><br>This work is licensed under a <a rel=license href=http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US>Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.</div><br>